
<div >
{% for collection in collections[section.settings.collection_to_display.handle].products %}
  
  <div id="PopupModal-{{ block.id }}" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>{{ collection.title }}</h2>
      {{ block.settings.page.content }}
      <img src="{{ collection.image | img_url: 'master' }}" alt="Image">
    </div>
  </div>
{% endfor %}

</div>



<script>
  const openModalButtons = document.querySelectorAll('.open-modal-btn');

  openModalButtons.forEach(button => {
    button.addEventListener('click', () => {
      const modalId = button.getAttribute('data-modal-id');
      const modal = document.getElementById(modalId);

      if (modal) {
        modal.style.display = 'none';

        const closeButton = modal.querySelector('.close');
        if (closeButton) {
          closeButton.addEventListener('click', () => {
            modal.style.display = 'none';
          });
        }
      }
    });
  });
</script>
{% schema %}
   {
  "name": "Collection Section",
  "settings": [
    {
      "type": "text",
      "label": "Section Title",
      "id": "title",
      "default": "Enter The Title"
    },
     {
      "type": "image_picker",
      "label": "Enter image",
      "id": "image"
      
    },
    {
      "type": "collection",
      "label": "Collection to Display",
      "id": "collection_to_display"
    }
  ], "presets":[{
      "category":"Popup",
      "name":"Popup"
    }]
}
{% endschema %}

<style>
  / Add your existing styles for the modal here /
  / ... /

  / Additional styles for the modal popup /
  
  

  .modal-content {
    background-color: white;
    margin: 10% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
    position: relative;
  }

  .close {
    position: absolute;
    top: 0;
    right: 0;
    padding: 10px;
    cursor: pointer;
  }

  / Add any other styles you need for the modal components /

</style>
